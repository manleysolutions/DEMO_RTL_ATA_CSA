:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --muted:#6b7280;
  --line:#e5e7eb;
  --text:#0f172a;
  --blue:#1e3a8a;        /* USPS-ish deep blue */
  --blue-2:#2563eb;
  --green:#16a34a;
  --red:#dc2626;
  --amber:#f59e0b;
  --pill:#eef2ff;
  --shadow:0 6px 20px rgba(18,38,63,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:14px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:var(--bg);
}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 22px; background:#fff; border-bottom:1px solid var(--line);
  position:sticky; top:0; z-index:10;
}
.brand{display:flex; align-items:center; gap:10px}
.brand .emoji{font-size:22px}
.brand h1{font-size:20px; margin:0; color:var(--blue)}
.muted{color:var(--muted); font-size:12px}

.container{max-width:1100px; margin:20px auto; padding:0 16px}

.cards{display:grid; grid-template-columns:repeat(4,1fr); gap:14px; margin-bottom:12px}
.card{
  background:var(--card); border:1px solid var(--line); border-radius:12px; padding:16px;
  box-shadow:var(--shadow)
}
.card.success{background:#ecfdf5}
.card.danger{background:#fef2f2}
.card.warning{background:#fff7ed}
.card-title{color:var(--muted); font-size:12px; margin-bottom:6px}
.card-value{font-size:22px; font-weight:700}

.filters{display:flex; gap:10px; align-items:center; margin:12px 0 8px}
.filters select,.filters input{
  height:34px; border:1px solid var(--line); background:#fff; border-radius:8px; padding:0 10px;
}
.filters input{width:260px}

.table-wrap{background:var(--card); border:1px solid var(--line); border-radius:12px; box-shadow:var(--shadow)}
.table{width:100%; border-collapse:separate; border-spacing:0}
.table th,.table td{padding:12px 14px; border-bottom:1px solid var(--line)}
.table thead th{background:#f3f4f6; text-align:left; font-weight:600; color:#111827}
.table tbody tr:last-child td{border-bottom:none}
.table .center{text-align:center}

.badge{display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; font-weight:600}
.badge.success{background:#dcfce7; color:var(--green)}
.badge.danger{background:#fee2e2; color:var(--red)}
.badge.warning{background:#fef3c7; color:#b45309}

.btn{
  border:none; background:var(--blue-2); color:#fff; padding:8px 12px; border-radius:8px; cursor:pointer;
  font-weight:600; font-size:13px; box-shadow:0 2px 10px rgba(37,99,235,.15);
}
.btn.small{padding:6px 10px}
.btn.warn{background:var(--amber); color:#111827}
.btn.dark{background:#374151}
.btn.ghost{background:#eef2ff; color:#111827}
.btn:disabled{opacity:.6; cursor:not-allowed}

.lines-pill{
  display:inline-flex; align-items:center; gap:6px; padding:6px 10px; background:var(--pill);
  border-radius:999px; cursor:pointer; border:1px solid #e2e8f0; font-weight:600;
}
.chev{transition:transform .2s ease}
.lines-open .chev{transform:rotate(90deg)}

.expando{background:#fafbff; border-top:1px dashed var(--line)}
.lines-grid{
  display:grid; grid-template-columns:repeat(4,1fr); gap:10px; padding:12px 14px;
}
.line-card{
  background:#fff; border:1px solid var(--line); border-radius:10px; padding:10px;
}
.line-head{display:flex; justify-content:space-between; align-items:center; margin-bottom:6px}
.dot{width:8px; height:8px; border-radius:50%}
.dot.active{background:var(--green)}
.dot.idle{background:#9ca3af}
.dot.alarm{background:var(--red)}
.dot.pending{background:var(--amber)}

.modal{position:fixed; inset:0; background:rgba(17,24,39,.45); display:flex; align-items:center; justify-content:center}
.modal.hidden{display:none}
.modal-content{
  width:680px; max-width:90vw; background:#fff; border-radius:14px; border:1px solid var(--line);
  box-shadow:var(--shadow); overflow:hidden;
}
.modal-head{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--line)}
.logs{max-height:60vh; overflow:auto; padding:10px 14px; font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono";}
.logs .entry{padding:8px 0; border-bottom:1px dashed var(--line)}
.logs .entry:last-child{border-bottom:none}

.toast{
  position:fixed; right:18px; bottom:18px; padding:10px 14px; background:#111827; color:#fff;
  border-radius:8px; box-shadow:var(--shadow)
}
.toast.hidden{display:none}

@media (max-width: 900px){
  .cards{grid-template-columns:1fr 1fr}
  .lines-grid{grid-template-columns:repeat(2,1fr)}
}
